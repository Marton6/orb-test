description: >
  Install the SecretHub CLI.
parameters:
  version:
    type: string
    default: "latest"
    description: "Version of the SecretHub CLI"
  install-path:
    type: string
    default: /usr/local/bin
    description: "Path to install SecretHub CLI to"
  shell:
    type: string
    default: /bin/sh

steps:
  - run:
      name: "Install SecretHub CLI"
      shell: << parameters.shell >>
      command: |
        git clone https://github.com/secrethub/secrethub-cli.git
        git checkout feature/env-var-references
        cd secrethub-cli
        make install
        cd ..
        rm -rf secrethub-cli